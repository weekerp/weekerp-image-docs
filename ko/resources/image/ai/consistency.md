---
description: '최종 수정일: 2026-01-03'
icon: circle-1
---

# 요청의 일관성

## 요청의 일관성 (Consistency)

요청의 일관성은 **처음 확정된 변환 해석을 저장**해두고, 이후 동일 요청에는 같은 변환을 재사용하여  캐시 만료/미스 이후에도 이미지가 임의로 바뀌지 않도록 합니다.&#x20;

위커프의 **AI 쿼리**는 이런 “우연한 변동” 때문에 이미지 결과가 매번 달라지는 문제를 방지하기 위해, **요청의 일관성(Consistency)** 을 제공합니다.

***

### 왜 필요한가요?

요청의 일관성(Consistency)은 크게 두 가지 상황에서 필요합니다.



#### 자주 바뀌지 않는 이미지에 사용

위커프는 기본적으로 이미지를 장기간(예: 최대 1년) 캐싱합니다.\
회사 로고, 공식 인증 마크/보안 배너처럼 **원본이 거의 바뀌지 않는 이미지**는 캐싱의 효과가 크지만, 캐시가 **만료되거나 미스가 발생하는 시점**에는 원본을 다시 조회하고 AI 변환이 재수행될 수 있습니다.



이때 사용자가 아래처럼 **해석 여지가 있는 요청**을 했다면,

* `?ai=이미지를 붉은 계열로 바꿔줘`

AI가 다시 해석하는 과정에서(모델 상태/해석 차이 등) **이전과 다른 결과가 생성될 가능성**이 생깁니다.



#### 동일 이미지를 다른 나라에서 호출

위커프는 사용자와 가까운 지역(엣지)에서 캐싱된 이미지를 우선 전달합니다.

하지만 글로벌 환경에서는 지역(엣지)마다 캐시 상태가 다르기 때문에, 어떤 지역에서는 캐시가 없어서(캐시 미스) 원본을 조회하고 AI 변환이 **처음부터 다시 수행**될 수 있습니다.

이 경우에도 AI 해석이 매번 동일하다는 보장이 없으면, 국가/지역에 따라 같은 URL 요청인데도 **서로 다른 결과**가 제공될 가능성이 생깁니다.



***



### 일관성 보장 조건

위커프는 다음 조건이 같다면 결과가 동일하도록 보장합니다.

* 동일한 원본 이미지
* 동일한 `ai` 요청(동일한 문자열 기준)
* 동일한 변환 옵션/파라미터(있다면)

즉, 같은 URL을 다시 요청했을 때 이미지가 매번 “조금씩 다르게” 변하지 않도록 설계되어 있습니다.

{% hint style="info" %}
주의: '동일한 ai 요청'은 문자열이 완전히 같은 경우를 의미합니다. 띄어쓰기/표현이 달라지면 다른 요청으로 처리될 수 있습니다.
{% endhint %}



***

### 버전 관리

의도적으로 결과를 바꾸고 싶다면 요청에 버전을 추가하세요. 예: `?ai=붉은 계열로  바꿔줘-v2`



